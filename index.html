<html>
	<head>
	<title>Gee-Mail: Nicole Sandry</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link href="https://fonts.googleapis.com/css?family=IM+Fell+English|Lato|Special+Elite" rel="stylesheet">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

//Index Part One
var indexTwo = [
	{
	draft: 'Draft',
	sent: 'Sent',
	trash: 'Trash'
	}
];

	var sum = 'Inbox (' + geemails.length + ')';
	console.log(sum);
	sum.id = 'inbox1';

	var inbox = document.createElement('li');
	inbox.className = 'ind';
	inbox.innerHTML = sum;
	counter.appendChild(inbox);

 	var draftIt = document.createElement('li');
 	draftIt.className = 'ind';
 	draftIt.innerHTML = indexTwo[0].draft;
 	counter.appendChild(draftIt);

 	var draftItTwo = document.createElement('li');
 	draftItTwo.className = 'ind';
 	draftItTwo.innerHTML = indexTwo[0].sent;
 	counter.appendChild(draftItTwo);

 	var draftItThree = document.createElement('li');
 	draftItThree.className = 'ind';
 	draftItThree.innerHTML = indexTwo[0].trash;
 	counter.appendChild(draftItThree);

 //Index Part Two
 var indexThree = [
	{
	fold: 'Folders:',
	dev: 'Devleague (20)',
	work: 'Work (1000)',
	personal: 'Personal',
	receipts: 'Receipts'
	}
];

 	var draftItFour = document.createElement('li');
 	draftItFour.id = 'devFolder';
 	draftItFour.innerHTML = indexThree[0].fold;
 	counter.appendChild(draftItFour);

 	var draftItFive = document.createElement('li');
 	draftItFive.id = 'folders';
 	draftItFive.innerHTML = indexThree[0].dev;
 	counter.appendChild(draftItFive);

 	var draftItSix = document.createElement('li');
 	draftItSix.id = 'folders';
 	draftItSix.innerHTML = indexThree[0].work;
 	counter.appendChild(draftItSix);

 	var draftItSeven = document.createElement('li');
 	draftItSeven.id = 'folders';
 	draftItSeven.innerHTML = indexThree[0].personal;
 	counter.appendChild(draftItSeven);
 
 	var draftItEight = document.createElement('li');
 	draftItEight.id = 'folders';
 	draftItEight.innerHTML = indexThree[0].receipts;
 	counter.appendChild(draftItEight);


//Vertical line separating the left column with the e-mail Inbox
	var disLine = document.createElement('hr');
	disLine.id = 'vLine';
	counter.appendChild(disLine);

 //Footer
 var footer = document.createElement('footer');
 footer.id = 'foot';
 footer.innerHTML = 'Created by Coco Sandry 2016';
 counter.appendChild(footer);


 //For Loop to Pull Emails Through

for (var i=0; i<geemails.length; i++){
	var wrap = document.createElement('div');
	wrap.className = 'wrapper';
	wrap.innerHTML = '';
	main.appendChild(wrap);

	var date = document.createElement('div');
	date.className= 'date';
	date.innerHTML = geemails[i].date;
	wrap.appendChild(date);

	var send = document.createElement('div');
	send.className = 'send';
	send.innerHTML = geemails[i].sender;
	wrap.appendChild(send);

	var subj = document.createElement('div');
	subj.style.cursor = 'pointer';
	subj.className = 'subj';
	subj.innerHTML = geemails[i].subject;
	wrap.appendChild(subj);

	var bod = document.createElement('div');
	bod.className = 'bod';
	bod.innerHTML = geemails[i].body;
	subj.appendChild(bod);

	var line = document.createElement('hr');
	line.className = 'line';
	wrap.appendChild(line);
	}

//TOGGLE PART 1: Make the body appear
var content = document.getElementsByClassName('subj');
	for(var p = 0; p<content.length; p++){
		content[p].addEventListener('click', subBod);
	}
	function subBod(){
		var content = this.querySelectorAll('.bod')[0];
		if(content.style.display === 
			'none'){
			content.style.display = 'block';
		}else{
			content.style.display = 'none';
		}
	}

//THIS GENERATES NEW MESSAGES
	/*console.log(getNewMessage());*/
	function newMail(){
		
		var newIsh = getNewMessage();

/*	var wrapper = document.createElement('div');
	wrap.className = 'wrapper';
	wrap.innerHTML = '';
	main.appendChild(wrap);*/ //coding no like dis
	
	var date = document.createElement('div');
	date.className= 'date';
	date.innerHTML = newIsh.date;
	wrap.appendChild(date);

	var send = document.createElement('div');
	send.className = 'send';
	send.innerHTML = newIsh.sender;
	wrap.appendChild(send);

	var subj = document.createElement('div');
	subj.style.cursor = 'pointer';
	subj.className = 'subj';
	subj.innerHTML = newIsh.subject;
	wrap.appendChild(subj);

	var bod = document.createElement('div');
	bod.className = 'bod';
	bod.innerHTML = newIsh.body;
	subj.appendChild(bod);

	var line = document.createElement('hr');
	line.className = 'line';
	wrap.appendChild(line);

//TOGGLE PART 2: had to move into the second set of messages otherwise it wouldn't work on the new messages being generated
var newContent = document.getElementsByClassName('subj');
	console.log(newContent.length);
	for(var s = 0; s<newContent.length; s++){
		newContent[s].addEventListener('click', newSubBod);
	}
	function newSubBod(){
		var newContent = this.querySelectorAll('.bod')[0];
		if(newContent.style.display ==='none'){
			newContent.style.display = 'block';
		}else{
			newContent.style.display = 'none';
		}
	}

//COUNTER
	
	document.getElementById('inbox1');
	inbox.innerHTML = 'Inbox (' + newContent.length++ +')';
	counter.appendChild(inbox);

 	draftIt.innerHTML = indexTwo[0].draft;
 	counter.appendChild(draftIt);

 	draftItTwo.innerHTML = indexTwo[0].sent;
 	counter.appendChild(draftItTwo);

 	draftItThree.innerHTML = indexTwo[0].trash;
 	counter.appendChild(draftItThree);

 	draftItFour.innerHTML = indexThree[0].fold;
 	counter.appendChild(draftItFour);

 	draftItFive.innerHTML = indexThree[0].dev;
 	counter.appendChild(draftItFive);

 	draftItSix.innerHTML = indexThree[0].work;
 	counter.appendChild(draftItSix);

 	draftItSeven.innerHTML = indexThree[0].personal;
 	counter.appendChild(draftItSeven);
 
 	draftItEight.innerHTML = indexThree[0].receipts;
 	counter.appendChild(draftItEight);

//Vertical line separating the left column with the e-mail Inbox
	disLine.id = 'vLine';
	counter.appendChild(disLine);


 //Footer
 footer.innerHTML = 'Created by Coco Sandry 2016';
 counter.appendChild(footer);
 
	}

	setInterval(newMail, 3000);

	document.getElementById('signOut').addEventListener('click', function(){alert('Boy Bye');});
};
    </script>

	</head>

	<body>

		<div id="banner"><h1>Gee-Mail</h1>
		<p>by Coco Sandry</p>

		<button id= "signOut">Sign Out</button>

		</div>

			<div id="counter">
			</div>

		<div id = "main"> 

		</div>

	</body>

</html>